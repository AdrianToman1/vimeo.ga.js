<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="prefetch" href="//www.google-analytics.com">

    <!-- Basic Page Needs -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="canonical" href="http://www.sanderheilbron.nl/vimeo.ga.js/">
    <title>vimeo.ga.js &mdash; A Google Analytics plugin for measuring Vimeo Player Events</title>
    <meta name="description" content="An easy-to-use solution to track Vimeo Player API events with the Event Tracking method of Google Analytics.">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Facebook Open Graph data -->
    <meta property="og:title" content="vimeo.ga.js — A Google Analytics plugin for measuring Vimeo Player Events">
    <meta property="og:description" content="An easy-to-use solution to track Vimeo Player API events with the Event Tracking method of Google Analytics.">
    <meta property="og:url" content="http://www.sanderheilbron.nl/vimeo.ga.js/">

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@sanderheilbron">
    <meta name="twitter:url" content="http://www.sanderheilbron.nl/vimeo.ga.js/">
    <meta name="twitter:title" content="vimeo.ga.js — A Google Analytics plugin for measuring Vimeo Player Events">
    <meta name="twitter:description" content="An easy-to-use solution to track Vimeo Player API events with the Event Tracking method of Google Analytics.">

    <!-- Critical CSS -->
    <style>
      html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}header{display:block}a{background:0 0}img{border:0}*,:after,:before{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-family:'Source Sans Pro Regular','Helvetica Neue',helvetica,arial,sans-serif;font-size:100%;line-height:1.5;font-weight:400;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased}body{background-color:#fff;color:#555}.container{margin:0 auto;max-width:48rem;width:90%}header{padding:3em 0 2em;margin-bottom:3rem;background-color:#28affa}h1{font-size:260%;font-weight:300;text-align:center;margin:.18em 0 0;color:#fff;font-family:'Source Sans Pro Light','Helvetica Neue',helvetica,arial,sans-serif}.tagline{font-size:150%;font-weight:300;text-align:center;margin:0 0 1em;color:#fff;line-height:1.3;padding-top:0;font-family:'Source Sans Pro Light','Helvetica Neue',helvetica,arial,sans-serif}a{color:#3f4854}.intro{text-align:center;font-size:100%;color:#707d8d}.intro:last-of-type{margin:0 0 1em}img,picture,source{width:100%;display:block;margin:0 auto}.vimeo-logo{width:130px;display:block;margin:0 auto}.demo{padding-bottom:3rem}ul{display:inline-block;text-align:left}.vimeoplayer{cursor:pointer;width:100%}.downloads{padding:0 0 1rem;list-style-type:none;text-align:center}.downloads ul{padding:0}.downloads ul li{margin-bottom:1em;list-style-type:none}.downloads a{display:inline-block}.downloads a:link{opacity:1}.button{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-color:#fff;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:2px solid #28affa;color:#28affa;cursor:pointer;display:block;text-align:center;padding:.4rem 0 .2rem;white-space:nowrap;width:250px;text-decoration:none}a.button span{font-size:1.1rem;line-height:2.4rem;color:#28affa;vertical-align:super;font-style:normal;text-decoration:none}.js-video{height:0;padding-top:25px;padding-bottom:67.5%;margin-bottom:10px;position:relative;overflow:hidden}.js-video.widescreen{padding-bottom:57.25%}.js-video.vimeo{padding-top:0}.downloads ul{padding-bottom:1rem}.downloads li span{display:block}.downloads span{font-size:80%;color:#707d8d}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}@media (min-width:40rem){.column{float:left;margin:0;padding-left:1rem;padding-right:1rem}.column.full{width:100%}.vimeo-logo{width:160px;margin-bottom:1em}.intro{font-size:120%}ul{display:inline-block;margin:0;text-align:left}.downloads ul li{float:left;margin:0 20px 20px 0}.downloads ul li:last-of-type{margin:0 0 20px}}@media (min-width:64rem){html{font-size:120%}.intro{font-size:120%;padding-left:3rem;padding-right:3rem}.vimeo-logo{width:160px;margin-bottom:1em}}
    </style>

    <script>
      /*!
      loadCSS: load a CSS file asynchronously.
      [c]2014 @scottjehl, Filament Group, Inc.
      Licensed MIT
      */
      function loadCSS(href, before, media){
        "use strict";
        // Arguments explained:
        // `href` is the URL for your CSS file.
        // `before` optionally defines the element we'll use as a reference for injecting our <link>
        // By default, `before` uses the first <script> element in the page.
        // However, since the order in which stylesheets are referenced matters, you might need a more specific location in your document.
        // If so, pass a different reference element to the `before` argument and it'll insert before that instead
        // note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/
        var ss = window.document.createElement('link');
        var ref = before || window.document.getElementsByTagName('script')[0];
        var sheets = window.document.styleSheets;
        ss.rel = 'stylesheet';
        ss.href = href;
        // temporarily, set media to something non-matching to ensure it'll fetch without blocking render
        ss.media = 'only x';
        // inject link
        ref.parentNode.insertBefore(ss, ref);
        // This function sets the link's media back to `all` so that the stylesheet applies once it loads
        // It is designed to poll until document.styleSheets includes the new sheet.
        function toggleMedia(){
          var defined;
          for(var i = 0; i < sheets.length; i++){
            if(sheets[i].href && sheets[i].href.indexOf(href) > -1 ){
              defined = true;
            }
          }
          if(defined){
            ss.media = media || 'all';
          }
          else {
            setTimeout(toggleMedia);
          }
        }
        toggleMedia();
        return ss;
      }

      loadCSS('css/stylesheet.min.ddb072c4.css');

    </script>
    <noscript>
      <link rel="stylesheet" href="css/stylesheet.min.ddb072c4.css">
    </noscript>

    <script>
      (function(){
          function addFont() {
              var style = document.createElement('style');
              style.rel = 'stylesheet';
              document.head.appendChild(style);
              style.textContent = localStorage.sourceSansPro;
          }

          try {
              if (localStorage.sourceSansPro) {
                  // The font is in localStorage, we can load it directly
                  addFont();
              } else {
                  // We have to first load the font file asynchronously
                  var request = new XMLHttpRequest();
                  request.open('GET', 'css/source-sans-pro.woff.css', true);

                  request.onload = function() {
                      if (request.status >= 200 && request.status < 400) {
                          // We save the file in localStorage
                          localStorage.sourceSansPro = request.responseText;

                          // ... and load the font
                          addFont();
                      }
                  }

                  request.send();
              }
          } catch(ex) {
              // maybe load the font synchronously for woff-capable browsers
              // to avoid blinking on every request when localStorage is not available
          }
      }());
    </script>

    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

  </head>
  <body>
    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MKL8JD"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MKL8JD');</script>
    <!-- End Google Tag Manager -->

    <header class="clearfix">
      <div class='container'>
        <div class="column full">
          <!-- <img srcset="images/vimeo.png, images/vimeo@2x.png 2x" alt="Vimeo"> -->
          <div>
            <svg class="vimeo-logo" width="160px" height="140px" viewBox="0 0 160 140" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs>
                <path id="path" d="M0.096,0.537471264 L159.9984,0.537471264 L159.9984,140 L0.096,140"></path>
              </defs>
              <g id="page" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="vimeo_icon_white">
                  <mask id="mask" sketch:name="vimeo-logo" fill="white">
                    <use xlink:href="#path"></use>
                  </mask>
                  <g id="vimeo-logo"></g>
                  <path d="M159.9216,32.8018391 C159.2096,48.4963218 148.3312,69.9871264 127.2912,97.2629885 C105.5376,125.755402 87.1328,140 72.0768,140 C62.7536,140 54.8576,131.326437 48.4128,113.972874 C44.1056,98.065977 39.8032,82.1606897 35.4976,66.2537931 C30.7088,48.9098851 25.5744,40.2266667 20.0848,40.2266667 C18.888,40.2266667 14.6992,42.7643678 7.528,47.8204598 L0,38.0478161 C7.896,31.0558621 15.6864,24.0655172 23.3504,17.0655172 C33.8816,7.89471264 41.7872,3.07195402 47.056,2.58436782 C59.5088,1.37908046 67.1728,9.95609195 70.0496,28.3170115 C73.1584,48.1262069 75.3088,60.4478161 76.5184,65.2705747 C80.1072,81.7052874 84.056,89.9121839 88.3712,89.9121839 C91.72,89.9121839 96.7504,84.5825287 103.4576,73.9232184 C110.1584,63.2606897 113.7472,55.1487356 114.232,49.576092 C115.1856,40.3747126 111.5952,35.7627586 103.4576,35.7627586 C99.6272,35.7627586 95.6784,36.6510345 91.616,38.4066667 C99.4784,12.451954 114.5024,-0.152873563 136.6784,0.566436782 C153.1184,1.05241379 160.8688,11.7970115 159.9216,32.8018391" id="fill" fill="#fff" mask="url(#mask)"></path>
                </g>
              </g>
            </svg>
            <h1>vimeo.ga.js</h1>
          <p class="tagline">A Google Analytics plugin for measuring Vimeo Player Events</p>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="column full">
        <p class="intro">An easy-to-use solution to track Vimeo Player API events with the Event Tracking method of Google Analytics. The plugin supports Universal Analytics, Classic Google Analytics, and Google Tag Manager.</p>
      </div>

      <div class="row clearfix downloads">
        <div class="container">
          <ul>
            <li>
              <a href="https://github.com/sanderheilbron/vimeo.ga.js/releases/download/0.6/vimeo.ga.min.js" class="button" title="Download"><span>Download</span></a>
            </li>
            <li>
              <a href="https://github.com/sanderheilbron/vimeo.ga.js" class="button" title="View on GitHub"><span>View on GitHub</span></a>
            </li>
          </ul>
        </div>
      </div>

      <div class="row clearfix demo">
        <div itemprop="video" itemscope itemtype="http://schema.org/VideoObject">
          <div class="js-video vimeo widescreen">
            <picture class="vimeoplayer" data-vimeoid="22439234">
              <source srcset="images/vimeo-placeholder-large.jpg, images/vimeo-placeholder-large@2x.jpg 2x" media="(min-width: 64rem)">
              <source srcset="images/vimeo-placeholder-medium.jpg, images/vimeo-placeholder-medium@2x.jpg 2x" media="(min-width: 40rem)">
              <source srcset="images/vimeo-placeholder-small.jpg, images/vimeo-placeholder-small@2x.jpg 2x">
              <img srcset="images/vimeo-placeholder-medium.jpg" alt="Click image to load video">
            </picture>
          </div>
          <p class="video-status">Click image to load video</p>
          <p class="video-details">Video: <span itemprop="name">The Mountain</span><br />Description: <span itemprop="description">Timelapse movie by TSO Photography.</span></p>
          <meta itemprop="embedURL" content="http://player.vimeo.com/video/22439234" />
          <meta itemprop="thumbnailUrl" content="http://b.vimeocdn.com/ts/145/026/145026168_295.jpg" />
        </div>
      </div>
    </div>

    <div class="row clearfix usage">
      <section>
        <div class="container">
          <h3>Usage</h3>
          <p>Include the scripts in the body section of the HTML document, just before <code>&lt;/body&gt;</code> tag. You’ll need to be running on a web server instead of opening the file directly in your browser. Flash and JS security restrictions will prevent the API from working when run locally.</p>
          <hr>
          <h5>Basic implementation</h5>
          <div data-gist="e55b306fd9600673bc89"></div>
          <hr>
          <h5>With some options</h5>
          <div data-gist="2d9a572982a94ab295a3"></div>
          <p>The <code>data-progress</code> and <code>data-seek</code> attributes enable tracking of progress and skip events. With <code>data-bounce</code> set to <code>true</code> event trackers will impact bounce rate of the page which embeds the video.</p>
          <p>The iframe embeds a Vimeo video player and allows Vimeo to serve an HTML5 player rather than a Flash player for mobile devices that do not support Flash.</p>
        </div>
      </section>
    </div>

    <div class="row clearfix bg-light">
      <section>
        <div class="container">
          <h3>Event Tracking</h3>
          <p>All player events are only tracked once. Restarting the video will not reset the event trackers.</p>

          <h4>Basic event trackers</h4>
          <ul>
            <li>Category: Vimeo</li>
            <li>Action:</li>
            <ul>
              <li><strong>Started video</strong>: when the video starts playing.</li>
              <li><strong>Paused video</strong>: when the video is paused.</li>
              <li><strong>Resumed video</strong>: when the video starts playing when it was paused.</li>
              <li><strong>Completed video</strong>: when the video reaches 100% completion.</li>
              <li><strong>Skipped video</strong>: when the video is skipped forward or backward.</li>
            </ul>
            <li>Label: URL of embedded video on Vimeo.</li>
          </ul>
          <hr>
          <h5>Example Classic Analytics</h5>
          <div data-gist="decd734808bd907f845f"></div>
          <hr>
          <h5>Example Universal Analytics</h5>
          <div data-gist="d56652a989508d5e69ae"></div>
          <hr>
          <h5>Example Google Tag Manager</h5>
          <div data-gist="dcea549b212a3b22b26a" class="last-gist"></div>

          <h4>Progress event trackers</h4>
          <ul>
            <li>Category: Vimeo</li>
            <li>Action:</li>
            <ul>
              <li><strong>25% Progress</strong>: when the video reaches 25% of the total video time.</li>
              <li><strong>50% Progress</strong>: when the video reaches 50% of the total video time.</li>
              <li><strong>75% Progress</strong>: when the video reaches 75% of the total video time.</li>
            </ul>
            <li>Label: URL of embedded video on Vimeo.</li>
          </ul>
          <hr>
          <h5>Example Classic Analytics</h5>
          <div data-gist="c87c5b63e3a4cb388f98"></div>
          <hr>
          <h5>Example Universal Analytics</h5>
          <div data-gist="2582e57f8468ae0c8c3e"></div>
          <hr>
          <h5>Example Google Tag Manager</h5>
          <div data-gist="d48270c5b869cd34838b" class="last-gist"></div>

          <h4>Bounce rate</h4>
          <p>The event trackers do not impact bounce rate of the page which embeds the video. The value of the opt_noninteraction parameter is set to <code>true</code> or <code>1</code>. Include the <code>data-bounce</code> attribute and set its value to <code>true</code> to override this setting.</p>
        </div>
      </section>
    </div>

    <div class="row clearfix bg-dark">
      <section>
        <div class="container">
          <h3>Google Tag Manager</h3>
          <p>If you'd like to integrate with Google Tag Manager, the dataLayer variable names are below.</p>
          <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Macro Name</th>
                <th>Data Layer Variable</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Event Category</td>
                <td><code>{{eventCategory}}</code></td>
              </tr>
              <tr>
                <td>Event Action</td>
                <td><code>{{eventAction}}</code></td>
              </tr>
              <tr>
                <td>Event Label</td>
                <td><code>{{eventLabel}}</code></td>
              </tr>
              <tr>
                <td>Event Value</td>
                <td><code>{{eventValue}}</code></td>
              </tr>
              <tr>
                <td>Event Non-Interaction</td>
                <td><code>{{eventNonInteraction}}</code></td>
              </tr>
            </tbody>
          </table>
        </div>
          <p>Use the GTM event <code>Vimeo</code> to fire the Universal or Classic Google Analytics event tag.</p>
          <p>The GTM container tag could also be used to include the plugin inside a page containing the video. Create a custom HTML tag and trigger this tag so that this script fires on gtm.dom, <code>{{event}}</code> equals <code>gtm.dom</code>, meaning it will fire once the DOM is ready.</p>
        </div>
      </section>
    </div>

    <div class="row clearfix bg-light">
      <section>
        <div class="container">
          <h3>Requirements</h3>
          <ul>
            <li>jQuery 1.4.3 or higher</li>
            <li>Classic Google Analytics Tracking Code (asynchronous), Universal Analytics Tracking Code or Google Tag Manager container code</li>
            <li>The end user must be using a browser that supports the HTML5 postMessage feature. Most modern browsers support postMessage, though Internet Explorer 7 does not support it.</li>
          </ul>
        </div>
      </section>
    </div>

    <div class="row clearfix social">
      <div class="container">
        <p class="action">Share with friends</p>
        <ul>
          <li><a href="http://www.facebook.com/share.php?u=http://www.sanderheilbron.nl/vimeo.ga.js/" class="facebook" onclick="return fbs_click(400, 300)" target="_blank" title="Share on Facebook"><span><em>Share</em></span></a></li>
          <li><a href="https://twitter.com/intent/tweet?original_referer=http://www.sanderheilbron.nl/vimeo.ga.js/&text=vimeo.ga.js+—+A+Google+Analytics+plugin+for+measuring+Vimeo+Player+Events.&url=http://www.sanderheilbron.nl/vimeo.ga.js/" onclick="twt_click();return false;" class="twitter" title="Tweet on Twitter"><span><em>Tweet</em></span></a></li>
        </ul>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row clearfix">
          <p>Code licensed under the <a href="http://opensource.org/licenses/MIT">MIT License</a> and available on <a href="https://github.com/sanderheilbron/vimeo.ga.js">GitHub</a>.</p>
          <p>Copyright &copy; 2014 <a href="http://www.sanderheilbron.nl">Sander Heilbron</a>.</p>
        </div>
      </div>
    </footer>

    <!-- JS -->
    <script>
      /*! loadJS: load a JS file asynchronously. [c]2014 @scottjehl, Filament Group, Inc. (Based on http://goo.gl/REQGQ by Paul Irish). Licensed MIT */
      function loadJS(src, cb){
        "use strict";
        var ref = window.document.getElementsByTagName('script')[0];
        var script = window.document.createElement('script');
        script.src = src;
        script.async = true;
        ref.parentNode.insertBefore(script, ref);
        if (cb && typeof(cb) === 'function') {
          script.onload = cb;
        }
        return script;
      }

      /*! Load jQuery and execute other scripts after jQuery is loaded */
      (function() {
        function getScript(src, success){
          var script = window.document.createElement('script');
          script.src = src;
          var head = window.document.getElementsByTagName('head')[0],
              done = false;
          script.onload = script.onreadystatechange = function() {
            if (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {
              done = true;
              success();
              script.onload = script.onreadystatechange = null;
              head.removeChild(script);
            }
          };
          head.appendChild(script);
        }

        getScript('js/jquery.min.js', function() {
          loadJS('js/jquery.gist.min.js');
          $('.vimeoplayer').click(function(){
            $(this).parent().html('<iframe src="https://player.vimeo.com/video/'+$(this).data('vimeoid')+'?api=1" id="vimeo-player" frameborder="0" data-progress="true" data-seek="true" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');
            loadJS('js/vimeo.ga.min.js');
          });
        });
      })();
    </script>

    <!-- Async JS -->
    <script async src="js/social.min.js"></script>
    <script async src="js/picturefill.min.js"></script>
  </body>
</html>
